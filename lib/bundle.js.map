{"version":3,"sources":["webpack:///webpack/bootstrap cd414d8353623b2a427d","webpack:///./lib/main.js","webpack:///./lib/cell.js","webpack:///./lib/grid.js","webpack:///./lib/sequencer.js","webpack:///./lib/simulation.js"],"names":["$","sim","click","e","cellWidth","grid","config","easelOffset","offset","relX","Math","floor","pageX","left","relY","pageY","top","cell","cells","toggleState","toggleStates","drawMirror","on","togglePaused","clear","sequencer","toggleMute","random","start","Cell","dead","posX","undefined","posY","color","bind","PITCHES","OCTAVES","DELTAS","Grid","notes","canvasHeight","ceil","window","height","width","canvasWidth","col","row","initialize","draw","getLiveNeighborCount","update","attr","pitch","octave","note","length","mirrorGrid","JSON","parse","stringify","background","createjs","Stage","removeAllChildren","Object","keys","forEach","key","Shape","graphics","beginStroke","setStrokeStyle","drawRect","x","y","addChild","stage","cellObj","beginFill","id","parent","getChildIndex","position","liveNeighborCount","delta","colDir","rowDir","changedCellsCount","neighborCount","synth","triggerAttackRelease","bool","Sequencer","Tone","PolySynth","DuoSynth","toMaster","Master","mute","Transport","stop","preventDefault","toggleClass","module","exports","Simulation","paused","fps","animate","setTimeout","requestAnimationFrame","keyCode","type","removeClass","addClass","initializeRandom"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cd414d8353623b2a427d","import Cell from './cell';\nimport Grid from './grid';\nimport Simulation from './simulation';\nimport Sequencer from './sequencer';\n\n$(() => {\n  const sim = new Simulation(new Grid(new Sequencer()));\n\n  $(\"#easel\").click(function(e) {\n    let cellWidth = sim.grid.config.cellWidth;\n    let easelOffset = $(this).offset();\n    let relX = Math.floor(((e.pageX - easelOffset.left) / cellWidth));\n    let relY = Math.floor(((e.pageY - easelOffset.top) / cellWidth));\n    let cell = sim.grid.cells[[relX, relY]];\n    //\n    cell.toggleState();\n    sim.grid.toggleStates(relX, relY);\n    sim.grid.drawMirror();\n  });\n\n  $('#start-button').on('click', sim.togglePaused);\n  $('#pause-button').on('click', sim.togglePaused);\n  $('#reset-button').on('click', sim.clear);\n  $('#volume-button').on('click', sim.grid.sequencer.toggleMute);\n  $('#stop-sound').on('click', sim.grid.sequencer.toggleMute);\n\n  $('#random-preset').on('click', sim.random);\n\n  sim.start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/main.js","class Cell {\n  constructor() {\n    this.dead = true;\n    this.posX = undefined;\n    this.posY = undefined;\n    this.color = \"fff\";\n\n    this.toggleState = this.toggleState.bind(this);\n  }\n\n  toggleState() {\n    this.dead = (this.dead === true) ? false : true;\n  }\n}\n\nexport default Cell;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cell.js","import Cell from './cell';\nimport Sequencer from './sequencer';\nconst PITCHES = ['C', 'D', 'E', 'G', 'A'];\nconst OCTAVES = ['1', '2', '3', '4', '5'];\n\nconst DELTAS = [\n  [-1, -1],\n  [-1, 0],\n  [-1, 1],\n  [0, -1],\n  [0, 1],\n  [1, -1],\n  [1, 0],\n  [1, 1]\n];\n\nclass Grid {\n  constructor(sequencer) {\n    this.cells = {};\n    this.notes = {};\n    this.sequencer = sequencer;\n\n    let cellWidth = 12;\n    this.config = {\n      cellWidth: cellWidth,\n      canvasHeight: Math.ceil(($(window).height() - 180) / cellWidth) * cellWidth\n    };\n\n    if ($(window).width() >= 1075) {\n      this.config.canvasWidth = Math.ceil(($(window).width() - 90) / cellWidth) * cellWidth;\n    } else {\n      this.config.canvasWidth = Math.ceil(($(window).width() - 270) / cellWidth) * cellWidth;\n    }\n\n    this.config.col = this.config.canvasWidth / cellWidth;\n    this.config.row = this.config.canvasHeight / cellWidth;\n\n    this.initialize = this.initialize.bind(this);\n    this.draw = this.draw.bind(this);\n    this.drawMirror = this.drawMirror.bind(this);\n    this.getLiveNeighborCount = this.getLiveNeighborCount.bind(this);\n    this.update = this.update.bind(this);\n    this.toggleStates = this.toggleStates.bind(this);\n\n    this.initialize();\n  }\n\n  initialize() {\n    $(\"#background, #easel, .canvas-container\").attr({\n      \"height\": `${this.config.canvasHeight}`,\n      \"width\": `${this.config.canvasWidth}`,\n    });\n    this.grid = [];\n\n    let pitch = 0;\n    let octave = 0;\n    for (let col = 0; col < this.config.col; col++) {\n      this.grid[col] = [];\n      for (let row = 0; row < this.config.row; row++) {\n        let cell = new Cell();\n        cell.posX = col;\n        cell.posY = row;\n        cell.width = this.config.cellWidth;\n        this.cells[[col, row]] = cell;\n        this.grid[col][row] = 0;\n\n        if ((row + col) % 3 === 0) {\n          let note = PITCHES[pitch] + OCTAVES[octave];\n          this.notes[[col, row]] = note;\n          pitch++;\n\n          if (pitch == PITCHES.length) {\n            pitch = 0;\n            octave++;\n            if (octave == OCTAVES.length ) { octave = 0; }\n          }\n        }\n      }\n    }\n\n    this.draw();\n    this.mirrorGrid = JSON.parse(JSON.stringify(this.grid));\n  }\n\n  draw() {\n    this.background = this.background || new createjs.Stage(\"background\");\n    this.background.removeAllChildren();\n    let width = this.config.cellWidth;\n\n    Object.keys(this.cells).forEach((key) => {\n      let cell = new createjs.Shape();\n\n      cell.graphics.beginStroke(\"#add8e6\");\n      cell.graphics.setStrokeStyle(0.5);\n      cell.graphics.drawRect(0, 0, width, width);\n      cell.x = this.cells[key].posX * width;\n      cell.y = this.cells[key].posY * width;\n\n      this.background.addChild(cell);\n    });\n\n    this.background.update();\n  }\n\n  drawMirror() {\n    this.stage = this.stage || new createjs.Stage(\"easel\");\n    this.stage.removeAllChildren();\n    let width = this.config.cellWidth;\n\n    Object.keys(this.cells).forEach((key) => {\n      let cellObj = this.cells[key];\n      let cell = new createjs.Shape();\n\n      if (cellObj.dead === false) {\n        cell.graphics.beginFill(\"#ffffff\");\n        cell.graphics.setStrokeStyle(1);\n        cell.graphics.drawRect(0, 0, width - 2, width - 2);\n        cell.x = cellObj.posX * width + 1.5;\n        cell.y = cellObj.posY * width + 1.5;\n        this.stage.addChild(cell);\n        cellObj.id = cell.parent.getChildIndex(cell);\n      }\n    });\n\n    this.stage.update();\n  }\n\n  getLiveNeighborCount(position) {\n    let liveNeighborCount = 0;\n    let col = position[0];\n    let row = position[1];\n\n    DELTAS.forEach((delta) => {\n      let colDir = delta[0];\n      let rowDir = delta[1];\n\n      if ((col + colDir < 0 ) ||\n        (col + colDir >= this.grid.length ) ||\n        (row + rowDir < 0) ||\n        (row + rowDir >= this.grid[col].length)) {\n          return;\n      }\n\n      if (this.grid[col + colDir][row + rowDir] === 1) {\n        liveNeighborCount += 1;\n        if (liveNeighborCount > 3) { return; }\n      }\n    });\n    return liveNeighborCount;\n  }\n\n  update() {\n    let changedCellsCount = 0;\n    Object.keys(this.cells).forEach((key) => {\n      let cell = this.cells[key];\n\n      let neighborCount = this.getLiveNeighborCount([cell.posX, cell.posY]);\n\n      if ((neighborCount === 2 || neighborCount === 3) && !cell.dead) {\n        this.mirrorGrid[cell.posX][cell.posY] = 1;\n        cell.dead = false;\n\n      } else if (neighborCount === 3 && cell.dead) {\n        this.mirrorGrid[cell.posX][cell.posY] = 1;\n        cell.toggleState();\n\n      } else if ((neighborCount < 2 || neighborCount > 3) && !cell.dead) {\n        this.mirrorGrid[cell.posX][cell.posY] = 0;\n        cell.toggleState();\n      }\n\n      if (!cell.dead && this.notes[key]) {\n        this.sequencer.synth.triggerAttackRelease(this.notes[key], '4n');\n      }\n    });\n\n    this.grid = JSON.parse(JSON.stringify(this.mirrorGrid));\n  }\n\n  toggleStates(row, col) {\n    if (this.grid[row][col] === 1) {\n      this.grid[row][col] = 0;\n      this.cells[[row, col]].dead = true;\n    } else {\n      this.grid[row][col] = 1;\n      this.cells[[row, col]].dead = false;\n    }\n  }\n\n  initializeRandom() {\n    for (let col = 0; col < this.grid.length; col++) {\n      for (let row = 0; row < this.grid[col].length; row++) {\n        let bool = Math.random() < 0.6;\n\n        this.grid[col][row] = (bool)? 1 : 0;\n        this.cells[[col, row]].dead = bool;\n      }\n    }\n\n    this.drawMirror();\n  }\n}\n\nexport default Grid;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/grid.js","class Sequencer {\n  constructor() {\n    // this.monoSynth = new Tone.Mono(11, Tone.DuoSynth).toMaster();\n    // this.monoSynth = new Tone.MonoSynth(11, Tone.DuoSynth);\n    // this.metalSynth = new Tone.MetalSynth(11, Tone.DuoSynth);\n    this.synth = new Tone.PolySynth(11, Tone.DuoSynth).toMaster();\n    Tone.Master.mute = true;\n  }\n\n  start() {\n    Tone.Transport.start();\n  }\n\n  stop() {\n    Tone.Transport.stop();\n  }\n\n  listen() {\n  }\n\n  toggleMute(e) {\n    Tone.Master.mute = (Tone.Master.mute === true) ? false : true;\n    e.preventDefault();\n    $('#volume-button').toggleClass('hidden');\n    $('#stop-sound').toggleClass('hidden');\n  }\n}\n\nmodule.exports = Sequencer;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sequencer.js","import Grid from './grid';\n\nclass Simulation {\n  constructor(grid) {\n    this.paused = true;\n    this.grid = grid;\n    this.fps = 8;\n    //\n    this.animate = this.animate.bind(this);\n    this.togglePaused = this.togglePaused.bind(this);\n    this.start = this.start.bind(this);\n    this.clear = this.clear.bind(this);\n    this.random = this.random.bind(this);\n\n  }\n\n  animate() {\n    if (!this.paused) {\n      this.grid.drawMirror();\n      this.grid.update();\n    }\n    setTimeout(() => (requestAnimationFrame(this.animate)), 1000 / this.fps);\n  }\n\n  start() {\n    this.animate();\n  }\n\n  togglePaused(e) {\n    if (e.keyCode === 32 || e.type === 'click') {\n      e.preventDefault();\n      $('#start-button').toggleClass('hidden');\n      $('#pause-button').toggleClass('hidden');\n      this.paused = !this.paused;\n    }\n  }\n\n  clear() {\n    this.paused = true;\n\n    $('#start-button').removeClass('hidden');\n    $('#pause-button').addClass('hidden');\n\n    this.grid.initialize();\n    this.grid.drawMirror();\n  }\n\n  random() {\n    this.clear();\n    this.grid.initializeRandom();\n  }\n}\n\nexport default Simulation;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/simulation.js"],"sourceRoot":""}